{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/ReactJs/geektrust/admin-ui/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _toConsumableArray from\"D:/ReactJs/geektrust/admin-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/ReactJs/geektrust/admin-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import SpecificUserData from'../SpecificUserData/SpecificUserData';import React,{useState}from'react';// import style from './UserData.module.css';\nimport'./UserData.css';// import { AiFillCaretLeft, AiFillCaretRight, AiFillFastBackward, AiFillFastForward } from \"react-icons/ai\";\nimport Pagination from'../Pagination/Pagination';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserData(props){var _useState=useState(Math.round(props.items.length/props.dataLimit)),_useState2=_slicedToArray(_useState,1),pages=_useState2[0];// const [fixedPagesCount] = useState(Math.round(props.items.length / props.dataLimit));\n// setFixedPagesCount(Math.round(props.items.length / props.dataLimit));\n// console.log(fixedPagesCount);\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),selectedId=_useState6[0],setSelectedId=_useState6[1];var insertIdData=function insertIdData(id){if(id in selectedId){var val=selectedId.filter(function(item){return item!==id;});setSelectedId(val);}else{setSelectedId([].concat(_toConsumableArray(selectedId),[id]));}// console.log(selectedId);\n};var onDeleteSelected=function onDeleteSelected(){props.selectedDeleteHandler(selectedId);};var goToNextPage=function goToNextPage(){setCurrentPage(function(page){return page>=Math.round(props.items.length/props.dataLimit)?page:page+1;});};var goToPreviousPage=function goToPreviousPage(){setCurrentPage(function(page){return page>=1?page-1:page=1;});};var changePage=function changePage(event){if(event.target.textContent==='First'){var pageNumber=1;setCurrentPage(pageNumber);}else if(event.target.textContent==='Last'){var _pageNumber=Math.round(props.items.length/props.dataLimit);setCurrentPage(_pageNumber);}else{var _pageNumber2=Number(event.target.textContent);setCurrentPage(_pageNumber2);}};var getPaginatedData=function getPaginatedData(){var startIndex=currentPage*props.dataLimit-props.dataLimit;var endIndex=startIndex+props.dataLimit;return props.items.slice(startIndex,endIndex);};var selectAll=function selectAll(){var val=[];var res=getPaginatedData();var _iterator=_createForOfIteratorHelper(res),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var data=_step.value;val=[].concat(_toConsumableArray(val),[data.id]);document.getElementById(data.id).click();}}catch(err){_iterator.e(err);}finally{_iterator.f();}setSelectedId(_toConsumableArray(val));};return/*#__PURE__*/_jsxs(\"div\",{className:\"table-container\",children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onClick:selectAll})}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),getPaginatedData().map(function(user){return/*#__PURE__*/_jsx(SpecificUserData,{id:user.id,name:user.name,email:user.email,role:user.role,deleteSpecificUser:props.ondeleteHandler,insertCheckedId:insertIdData},user.id);})]}),/*#__PURE__*/_jsx(\"button\",{className:\"deleteButton\",onClick:onDeleteSelected,children:\"Delete Selected\"}),/*#__PURE__*/_jsx(Pagination,{changePage:changePage,goToPreviousPage:goToPreviousPage,goToNextPage:goToNextPage,pages:pages,currentPage:currentPage,pageLimit:props.pageLimit})]});}export default UserData;","map":{"version":3,"sources":["D:/ReactJs/geektrust/admin-ui/src/components/UserData/UserData.js"],"names":["SpecificUserData","React","useState","Pagination","UserData","props","Math","round","items","length","dataLimit","pages","currentPage","setCurrentPage","selectedId","setSelectedId","insertIdData","id","val","filter","item","onDeleteSelected","selectedDeleteHandler","goToNextPage","page","goToPreviousPage","changePage","event","target","textContent","pageNumber","Number","getPaginatedData","startIndex","endIndex","slice","selectAll","res","data","document","getElementById","click","map","user","name","email","role","ondeleteHandler","pageLimit"],"mappings":"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","sourcesContent":["import SpecificUserData from '../SpecificUserData/SpecificUserData';\r\nimport React, { useState } from 'react';\r\n// import style from './UserData.module.css';\r\nimport './UserData.css';\r\n// import { AiFillCaretLeft, AiFillCaretRight, AiFillFastBackward, AiFillFastForward } from \"react-icons/ai\";\r\nimport Pagination from '../Pagination/Pagination';\r\n\r\n\r\nfunction UserData(props) {\r\n\r\n    const [pages] = useState(Math.round(props.items.length / props.dataLimit));\r\n    // const [fixedPagesCount] = useState(Math.round(props.items.length / props.dataLimit));\r\n    // setFixedPagesCount(Math.round(props.items.length / props.dataLimit));\r\n    // console.log(fixedPagesCount);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [selectedId, setSelectedId] = useState([]);\r\n\r\n    const insertIdData = (id) => {\r\n\r\n        if (id in selectedId) {\r\n            const val = selectedId.filter((item) =>\r\n                item !== id\r\n            );\r\n            setSelectedId(val);\r\n        } else {\r\n            setSelectedId([...selectedId, id]);\r\n        }\r\n        // console.log(selectedId);\r\n\r\n\r\n    }\r\n\r\n\r\n    const onDeleteSelected = () => {\r\n        props.selectedDeleteHandler(selectedId);\r\n    }\r\n\r\n    const goToNextPage = () => {\r\n        setCurrentPage((page) => page >= Math.round(props.items.length / props.dataLimit) ? page : page + 1);\r\n    }\r\n\r\n    const goToPreviousPage = () => {\r\n\r\n        setCurrentPage((page) => page >= 1 ? page - 1 : page = 1);\r\n    }\r\n\r\n    const changePage = (event) => {\r\n        if (event.target.textContent === 'First') {\r\n            const pageNumber = 1;\r\n            setCurrentPage(pageNumber);\r\n        } else if (event.target.textContent === 'Last') {\r\n            const pageNumber = Math.round(props.items.length / props.dataLimit);\r\n            setCurrentPage(pageNumber);\r\n        } else {\r\n\r\n            const pageNumber = Number(event.target.textContent);\r\n            setCurrentPage(pageNumber);\r\n        }\r\n    }\r\n\r\n    const getPaginatedData = () => {\r\n        const startIndex = currentPage * props.dataLimit - props.dataLimit;\r\n        const endIndex = startIndex + props.dataLimit;\r\n        return props.items.slice(startIndex, endIndex);\r\n    };\r\n\r\n\r\n\r\n    const selectAll = () => {\r\n        var val = [];\r\n\r\n        const res = getPaginatedData();\r\n        for (let data of res) {\r\n\r\n            val = [...val, data.id];\r\n            document.getElementById(data.id).click();\r\n        }\r\n        setSelectedId([...val]);\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='table-container'>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th><input type='checkbox' onClick={selectAll} /></th>\r\n                        <th>Name</th>\r\n                        <th>Email</th>\r\n                        <th>Role</th>\r\n                        <th>Actions</th>\r\n                        {/* <th></th> */}\r\n\r\n                    </tr>\r\n                </thead>\r\n                {getPaginatedData().map((user) => (\r\n                    <SpecificUserData\r\n                        key={user.id}\r\n                        id={user.id}\r\n                        name={user.name}\r\n                        email={user.email}\r\n                        role={user.role}\r\n                        deleteSpecificUser={props.ondeleteHandler}\r\n                        insertCheckedId={insertIdData}\r\n\r\n                    />\r\n\r\n                ))}\r\n\r\n            </table>\r\n            <button\r\n                className='deleteButton'\r\n                onClick={onDeleteSelected}>\r\n                Delete Selected\r\n            </button>\r\n\r\n            <Pagination\r\n                changePage={changePage}\r\n                goToPreviousPage={goToPreviousPage}\r\n                goToNextPage={goToNextPage}\r\n                pages={pages}\r\n                currentPage={currentPage}\r\n                pageLimit={props.pageLimit}\r\n            />\r\n\r\n\r\n\r\n\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserData;"]},"metadata":{},"sourceType":"module"}